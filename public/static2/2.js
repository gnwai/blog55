webpackJsonp([2],{221:function(t,e,n){"use strict";function i(t){n(323)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(243),a=n.n(o),r=n(306),l=n(87),c=i,s=l(a.a,r.a,!1,c,null,null);e.default=s.exports},233:function(t,e,n){e=t.exports=n(16)(void 0),e.push([t.i,".toolbar{width:100%;padding:8px;background-color:#fff;overflow:hidden;line-height:32px;border:1px solid #e6ebf5}",""])},234:function(t,e,n){"use strict";function i(t){n(236)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(235),a=n(87),r=i,l=a(null,o.a,!1,r,null,null);e.default=l.exports},235:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"toolbar"},[t._t("default")],2)},o=[],a={render:i,staticRenderFns:o};e.a=a},236:function(t,e,n){var i=n(233);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(88)("4134ef8a",i,!0)},242:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"CategoryEdit",props:{dialogFormVisible:Boolean,data:[Object,Boolean],title:String,departTree:Array},data:function(){return{props:{value:"id",label:"name",children:"children"},form:{id:null,name:"",pid:"",comment:""},btnLoading:!1}},watch:{data:{handler:function(){if(this.data)for(var t in this.form)this.form[t]=this.data[t];else for(var e in this.form)this.form[e]=""},deep:!0}},methods:{handleChange:function(){},btnOk:function(){var t=this,e=!1,n=this.form;if(n.name&&n.name.length<=2&&(e="分类名称必须大于2个字符"),e)return void this.$message.error(e);this.$emit("val-change",this.form),this.btnLoading=!0,setTimeout(function(){t.btnLoading=!1},1e3)}},components:{}}},243:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(234),a=i(o),r=n(284),l=i(r),c=n(283),s=i(c);e.default={data:function(){return{categoryEditTitle:"",dialogFormVisible:!1,currentEditCategory:null,data:[{id:1,name:"新闻中心",children:[{id:2,name:"公司新闻",children:[]},{id:3,name:"行业新闻",children:[]}]},{id:4,name:"一级分类目录",children:[{id:5,name:"二级分类目录",children:[{id:6,name:"三级分类目录",children:[{id:7,name:"四级分类目录",children:[{id:8,name:"无限极分类",children:[]}]}]}]}]},{id:10,name:"其他分类",children:[]}],props:{label:"name",children:"children"}}},methods:{deleteCategory:function(t){var e=this;e.$confirm("此操作将删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$notify({title:"成功",message:"请参照下面代码完成Api对接！",type:"success"}),e.dialogFormVisible=!1}).catch(function(){})},addCategory:function(t){var e=this;e.dialogFormVisible=!0,e.currentEditCategory=null,t?(e.currentEditCategory={},e.currentEditCategory.pid=t.id,e.categoryEditTitle="添加“"+t.name+"”的子分类"):e.categoryEditTitle="添加顶级分类"},editCategory:function(t){var e=this;e.dialogFormVisible=!0,e.currentEditCategory=t,e.categoryEditTitle="修改“"+t.name+"”分类"},categoryEditChange:function(t){var e=this;e.$notify({title:"成功",message:"请参照下面代码完成Api对接！",type:"success"}),e.dialogFormVisible=!1},handleNodeClick:function(t,e){},renderContent:function(t,e){var n=e.node;e.data,e.store;return this.$createElement("TreeDetails",{props:{data:n},on:{"add-category":this.addCategory,"edit-category":this.editCategory,"delete-category":this.deleteCategory}})},init:function(){}},components:{ToolBar:a.default,TreeDetails:l.default,CategoryEdit:s.default},mounted:function(){this.init()}}},244:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"TreeCategory",props:{data:Object},data:function(){return{}},methods:{deleteDepart:function(t,e){this.$emit("delete-category",t),e.cancelBubble=!0},add:function(t,e){this.$emit("add-category",t.data),e.cancelBubble=!0},edit:function(t,e){this.$emit("edit-category",t.data),e.cancelBubble=!0},info:function(t,e){var n=t.data;this.$alert('<strong style="margin-right: 18px">分类名称:</strong>'+n.name+' <br><br><strong>分类描述:</strong><br><div class="category-description">'+(n.comment?n.comment:"暂无描述")+"</div>","分类详情",{type:"info",dangerouslyUseHTMLString:!0}).then(function(t){}),e.cancelBubble=!0}},mounted:function(){console.log(this.data)},components:{}}},264:function(t,e,n){e=t.exports=n(16)(void 0),e.push([t.i,".tree-details{-webkit-box-flex:1;-ms-flex:1;flex:1}.tree-details .el-button.is-circle{padding:8px}.category-description{text-indent:2em}",""])},278:function(t,e,n){e=t.exports=n(16)(void 0),e.push([t.i,".category-dialog .el-cascader{width:100%}",""])},279:function(t,e,n){e=t.exports=n(16)(void 0),e.push([t.i,".category .el-tree-node__content{height:40px;line-height:40px}",""])},283:function(t,e,n){"use strict";function i(t){n(322)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(242),a=n.n(o),r=n(305),l=n(87),c=i,s=l(a.a,r.a,!1,c,null,null);e.default=s.exports},284:function(t,e,n){"use strict";function i(t){n(308)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(244),a=n.n(o),r=n(289),l=n(87),c=i,s=l(a.a,r.a,!1,c,null,null);e.default=s.exports},289:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tree-details"},[n("el-row",{attrs:{type:"flex"}},[n("el-col",{staticStyle:{flex:"1"}},[n("span",{staticStyle:{"font-size":"13px"}},[n("span",{staticStyle:{color:"#3c8dbc"}},[t._v("【")]),t._v(t._s(t.data.data.name)),n("span",{staticStyle:{color:"#3c8dbc"}},[t._v("】")])])]),t._v(" "),n("el-col",{staticStyle:{width:"180px"}},[n("el-button",{attrs:{type:"info",icon:"el-icon-tickets",circle:"",size:"mini"},on:{click:function(e){t.info(t.data,e)}}}),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},on:{click:function(e){t.edit(t.data,e)}}}),t._v(" "),n("el-button",{attrs:{type:"success",icon:"el-icon-plus",circle:"",size:"mini"},on:{click:function(e){t.add(t.data,e)}}}),t._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(e){t.deleteDepart(t.data.data.id,e)}}})],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},305:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category-dialog"},[n("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible,"show-close":!1,width:"45%"}},[n("el-form",{attrs:{model:t.form}},[n("el-form-item",{attrs:{label:"分类名称"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"分类描述"}},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入备注说明"},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.$emit("cancel")}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:t.btnOk}},[t._v("确 定")])],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},306:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category"},[n("ToolBar",[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(e){t.addCategory(!1)}}},[t._v("添加")])],1),t._v(" "),n("el-tree",{attrs:{indent:38,props:t.props,data:t.data,"render-content":t.renderContent},on:{"node-click":t.handleNodeClick}}),t._v(" "),n("CategoryEdit",{attrs:{title:t.categoryEditTitle,dialogFormVisible:t.dialogFormVisible,data:t.currentEditCategory,departTree:t.data},on:{"val-change":t.categoryEditChange,cancel:function(e){t.dialogFormVisible=!1}}})],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},308:function(t,e,n){var i=n(264);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(88)("47d173e6",i,!0)},322:function(t,e,n){var i=n(278);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(88)("4da232db",i,!0)},323:function(t,e,n){var i=n(279);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(88)("ea34861c",i,!0)}});